---
title: "Lab 1 : Getting Started with R"
author: 'Xiaoyi Yang andrew email: xiaoyiy@andrew.cmu.edu'
date: "June 3, 2019"
output: html_document
---

## Intro to Rmarkdown

This file is generated by Rmarkdown. R Markdown is a file format for making dynamic documents with R. An R Markdown document is written in markdown (an easy-to-write plain text format) and contains chunks of embedded R code. The chunks of embedded R codes are: 

```{r}
#R codes here
```

Running a Rmarkdown file and converting it into a reader-friendly documents require the "rmarkdown" and "knitr" package. All the lab documents will be Rmarkdown files and you need to know how to knit them. We recommend to knit as html file but if you have LaTex installed, you can knit as PDF. 

## Install R and R studio

To install R, please go to http://cran.cnr.berkeley.edu/ and choose your system. Choose "base" if this is your first time to install R. If you have R installed but not the latest version and if you are using Mac or Linux, just download the latest installer and install. If you are using Windows, run the following codes in R. Remember to select the options that copy all the exist packages.  

```{r, eval = FALSE}
if(!require(installr)) {
  install.packages("installr"); 
  require(installr)
}

updateR()
```

To install R Studio, please go to https://www.rstudio.com/products/rstudio/download/#download and choose your system. The installer is preferred. If you have R Studio installed but not the latest version, just download the latest installer and install. 

## Install R packages

R performs a wide variety of functions, such as data manipulation, modeling, and vitualization. However, some useful functions are included in R packages which write by all the other developers. Using R package can help us easily apply new methods or simplify our own codes.

To install a R package, using the function "install.packages" and put the package name in the parentheses and the quote. Or you can go to "Tools" then "Install Packages" and then input the package name.

```{r, eval = FALSE}
install.packages("tidyverse")
```

If in any time you get a message says:"Do you want to install from sources the package which needs compilation?" Choose "No" will tend to bring less troubles. 

Each package only need to be installed once. In order to use the package, you need to "call" the package everytime, with the statement:

```{r, message = FALSE}
library(tidyverse)
```

Here is a list of packages that we may need in the following lectures/labs. Please make sure you can install all of them. If you fail to install any package, please update the R and R studio first and check the error message for any other packages that need to install first. 

```{r, message=FALSE}
library(tidyverse)
library(devtools)
library(rmarkdown)
library(knitr)
library(stringr)
library(car)
library(randomForest)
library(glmnet)
```

## Basic data type and operators

### Data type

The basic unit of R is a vector. A vector v is a collection of values of the same type and the type could be:

1. numeric (real number): digits with optional decimal point

```{r}
v1 = c(1, 5, 8.3, 0.02, 99999)
```

2. character: a string (or word) in double or single quotes, "..." or ’...’.

```{r}
v2 = c("apple", "banana", "3 chairs", "dimension1", ">-<")
```

3. logical: TRUE and FALSE

```{r}
v3 = c(TRUE, FALSE, FALSE)
```

### Operators

We can preform element-wise actions on vectors through the operators:

1. Arithmetic: + - * / ^ (and, for integer division, %/% is quotient, %% is remainder)

```{r}
v1 = c(1,2,3)
v2 = c(4,5,6)

v1 + v2
v1 * v2

v2 %% v1
```

2. Relation: > >= < <= == != (last two are equals and is not equal to )

```{r}
5 > 4
5 <= 4
33 == 22
33 != 22
```

3. Logic: !(not) &(and) |(or)

```{r}
(5 > 6) | (2 < 3)
(5 > 6) & (2 < 3)
!(5 > 6) & (2 < 3)
```

4. Sequence: : (colon)

```{r}
1:5
5:1
-1:-5
-1:5
```

## Read the csv files

Most of the data provided to you are in csv format. Please download the csv files first from and put them into the same folder with the R files. Click "Session", then "Set Working Directory" and then "To Source File Location". 

Both csv files we provide right now have colnames for each variable, thus we set header = TRUE. Otherwise, remember to set it as FALSE. 

```{r}
nba = read.csv("nba_2019_player_stats.csv", header = TRUE)
```

## Looking for help

If you have any R problem, the best way is to Google and check with TAs. If you have questions for some specific functions or packages, you can use the statement "?" + "function name", for example:

```{r, eval = FALSE}
?help
```

Double question marks can lead to a more general search.

```{r, eval = FALSE}
??help
```

## Exercise

1. Create four vectors, v1 and v2 are numeric vectors, v3 is a character vector and v4 is a logic vector. Make sure the length of v1 and v2 are the same. (Hint: a way to check the length is to use the fucntion length())

```{r}
#R code here
```

2. Preform add, minus, product and division on v1 and v2.

```{r}
#R code here
```

3. Create four statements with both relation and logic operators, that 2 of them return TRUE and 2 of them return FALSE.

```{r}
#R code here
```

4. Create 2 sequences with length 20, one in increasing order and the othe one in decreasing order. 

```{r}
#R code here
```

5. Read the MLB file into R studio.

```{r}
#R code here
```
